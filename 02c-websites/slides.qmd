---
title: "Websites"
subtitle: "Session 2: AEA Replication in Quarto"
author: "Cynthia Huang"
date: 2023-07-18
format: revealjs
metadata-files: 
  - ../_slides.yml
---

```{r}
#| label: setup
#| include: false
#| file: ../_slides-setup.R
```

# Websites are Projects

## Anatomy of a Quarto Website {.smaller}

[ðŸ”— github.com/cynthiahqy/monash-quarto-aea](https://github.com/cynthiahqy/monash-quarto-aea)

::: {layout-ncol="2"}
``` {.terminal code-line-numbers="13|2-9|10-12|17-28"}
.
â”œâ”€â”€ 00-pre-workshop.qmd
â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ images
â”‚   â”œâ”€â”€ index.qmd
â”‚   â””â”€â”€ slides.qmd
...01d...04d...
â”œâ”€â”€ index.qmd
â”œâ”€â”€ about.qmd
â”œâ”€â”€ day01-exercises.zip
â”œâ”€â”€ images
â”‚   â””â”€â”€ cynthia-profile.jpg
â”œâ”€â”€ _quarto.yml
â”œâ”€â”€ LICENSE
â”œâ”€â”€ README.md
â”œâ”€â”€ README.qmd
â”œâ”€â”€ docs
â”‚   â”œâ”€â”€ 00-pre-workshop.html
â”‚   â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ 01b-formats
â”‚   â”œâ”€â”€ 01c-articles
â”‚   â”œâ”€â”€ 01d-wrap-up
â”‚   â”œâ”€â”€ about.html
â”‚   â”œâ”€â”€ day01-exercises.zip
â”‚   â”œâ”€â”€ images
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ search.json
â”‚   â””â”€â”€ site_libs
â”œâ”€â”€ _freeze
â”‚   â”œâ”€â”€ 00-pre-workshop
â”‚   â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ 01b-docs
â”‚   â”œâ”€â”€ 01b-formats
â”‚   â”œâ”€â”€ 01c-articles
â”‚   â””â”€â”€ site_libs
â”œâ”€â”€ references.bib
â””â”€â”€ style
    â””â”€â”€ slides.scss
```

-   Config File `_quarto.yml` with:
    -   Project options
    -   Website options
    -   Shared document options
-   Multiple `.qmd` files
-   Additional assets such as code, data, images, pdfs, zip etc.
-   Rendered website ready for publishing
:::

## Quarto Projects...

are directories that provide:

-   A way to render all or some of the files in a directory with a single command (e.g. quarto render myproject).

-   A way to share YAML configuration across multiple documents.

-   The ability to redirect output artifacts to another directory.

-   The ability to freeze rendered output (i.e. don't re-execute documents unless they have changed).

## Projects types

Every project has a `_quarto.yml` config file:

``` {.yaml code-line-numbers="1-2" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
...
```

The `type` field indicates the type of project:

-   `default`: Collection of documents

-   `website`: Websites (and blogs)!

-   `books`: Books

We will focus on Websites.

## Projects options for Websites

-   `output-dir` field controls where rendered output goes. Defaults to `_site`

``` {.yaml code-line-numbers="3" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
  render:
    - "index.qmd"
    - "about.qmd"
    - "00-pre-workshop.qmd"
    - "01*/*.qmd"
  resources:
    - "day01-exercises.zip"
```

## Projects options for Websites

-   `render`: lists which files to render. Defaults to all files.
-   `resources:` specifies additional files that should be copied to the output directory.

``` {.yaml code-line-numbers="4-8|9-10" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
  render:
    - "index.qmd"
    - "about.qmd"
    - "00-pre-workshop.qmd"
    - "01*/*.qmd"
  resources:
    - "day01-exercises.zip"
```

## Rendering Websites

[ðŸ”— github.com/cynthiahqy/monash-quarto-aea](https://github.com/cynthiahqy/monash-quarto-aea)

::: {layout="[60,40]"}
``` {.terminal code-line-numbers="2-8|9"}
.
â”œâ”€â”€ 00-pre-workshop.qmd
â”œâ”€â”€ 01a-hello-quarto
â”‚   â”œâ”€â”€ images
â”‚   â”œâ”€â”€ index.qmd
â”‚   â””â”€â”€ slides.qmd
â”œâ”€â”€ index.qmd
â”œâ”€â”€ about.qmd
â”œâ”€â”€ day01-exercises.zip
...01d...04d...
...README...LICENSE...
â”œâ”€â”€ _quarto.yml
â”œâ”€â”€ _freeze/
â”œâ”€â”€ docs/
â”œâ”€â”€ references.bib
â””â”€â”€ style
    â””â”€â”€ slides.scss
```

``` {.yaml code-line-numbers="4-8|9-10" filename="_quarto.yml"}
project:
  type: website
  output-dir: docs
  render:
    - "index.qmd"
    - "about.qmd"
    - "00-pre-workshop.qmd"
    - "01*/*.qmd"
  resources:
    - "day01-exercises.zip"
```
:::

# Websites and Documents

## Available Features

For a full list of available options see [quarto.org \> Reference \> Projects \> Websites](https://quarto.org/docs/reference/projects/websites.html). Highlights include:

-   Navigation
-   Sidebars
-   Search
-   Listings

## Your Turn: Website Options {.smaller}

::: task
Open up the workshop website.
Pick a YAML option from below and figure out what it does.
You might find these links useful: [Website Navigation](https://quarto.org/docs/websites/website-navigation.html), [Website Options](https://quarto.org/docs/reference/projects/websites.html).
Compare with your neighbour.
:::

```{r}
#| echo: false

countdown(minutes = 10)
```

``` yaml
website:
  title: "Meeting AEA Replication standards using Quarto and GitHub"
  description: "Jul 18-20 Workshop on Quarto for Department of Economics, Monash University"
  page-navigation: true
  page-footer:
  right: "This page is built with ðŸ’š and [Quarto](https://quarto.org/)."
  left: "&copy; Copyright 2023, Cynthia Huang"

  sidebar:
    pinned: true
    align: center
    style: docked
    search: true
    collapse-level: 2

    tools:
      - icon: github
        href: https://github.com/cynthiahqy/monash-quarto-aea
        text: "GitHub organization"

    contents:
      - href: index.qmd
        text: Home
      - href: about.qmd
        text: About
      - href: 00-pre-workshop.qmd
        text: Pre-work
      - text: "---"
      - section: "Getting to Know Quarto"
        contents:
          - href: 01a-hello-quarto/index.qmd
            text: Hello Quarto!
```

## Shared Document Options

``` {.yaml filename="_quarto.yml" code-line-numbers="1|2-6|7-13"}
format:
  html:
    theme: cosmos
    toc: true
    code-copy: true
    code-overflow: wrap
  revealjs:
    theme: [default, style/slides.scss]
    transition: fade
    slide-number: true
    chalkboard: true
    date-format: full
```

# Back to Code, Data and READMEs

## Our Turn: Get the Template{.smaller}

::::{layout-ncol="2"}

::: follow
-   Go to [ðŸ”— github.com/cynthiahqy/quarto-replication-template](https://github.com/cynthiahqy/quarto-replication-template)
-   Click "Use this Template"
-   Make a new repository in your GitHub account
-   Get the Template on your computer:
    - Download a copy, 
    - open with GitHub Desktop,
    - or clone via Command Line
-   Make an Rproject in the template
-   Render the website
:::

![](images/use-github-template.png)

::::

::: notes
anything is possible! BUT let's go back to basic requirements

ðŸ’¡ replication package INSIDE a quarto website project.
:::

<!--- iframe it with a link! --->

## Template Structure: Replication

:::{layout="[60,40]"}
- The replication package is contained INSIDE the Quarto website project.
- `replication-pkg/` contains all code, data and replication documentation.
- Compress to  to `replication-pkg.zip` for submission

```{.terminal code-line-numbers="5-18"}
./
â”œâ”€â”€ _quarto.yml
â”œâ”€â”€ index.qmd
â”œâ”€â”€ paper/
â””â”€â”€ replication-pkg/
    â”œâ”€â”€ LICENSE.txt
    â”œâ”€â”€ README.qmd
    â”œâ”€â”€ code/
    â”‚Â Â  â”œâ”€â”€ 00_setup/
    â”‚Â Â  â”œâ”€â”€ 01_dataprep/
    â”‚Â Â  â”œâ”€â”€ 02_analysis/
    â”‚Â Â  â””â”€â”€ 03_appendix/
    â”œâ”€â”€ data/
    â”‚Â Â  â”œâ”€â”€ analysis/
    â”‚Â Â  â”œâ”€â”€ interim/
    â”‚Â Â  â””â”€â”€ raw/
    â”œâ”€â”€ output/
    â””â”€â”€ references.bib
```
:::

## Template Structure: Website

:::{layout="[60,40]"}
- Place your finished publication in `paper/`
- Update `_quarto.yml` and `index.qmd`
- Render and you have a website for your paper!
- Publish and share with the world

```{.terminal code-line-numbers="2-4"}
./
â”œâ”€â”€ _quarto.yml
â”œâ”€â”€ index.qmd
â”œâ”€â”€ paper/
â””â”€â”€ replication-pkg/
    â”œâ”€â”€ LICENSE.txt
    â”œâ”€â”€ README.qmd
    â”œâ”€â”€ code/
    â”‚Â Â  â”œâ”€â”€ 00_setup/
    â”‚Â Â  â”œâ”€â”€ 01_dataprep/
    â”‚Â Â  â”œâ”€â”€ 02_analysis/
    â”‚Â Â  â””â”€â”€ 03_appendix/
    â”œâ”€â”€ data/
    â”‚Â Â  â”œâ”€â”€ analysis/
    â”‚Â Â  â”œâ”€â”€ interim/
    â”‚Â Â  â””â”€â”€ raw/
    â”œâ”€â”€ output/
    â””â”€â”€ references.bib
```
:::

## Template: Website Defaults

```{.yaml filename="_quarto.yml" code-line-numbers="5-7|9-19|21-24"}
project:
  type: website
  output-dir: docs 

website:
  title: "Data and Code for: Matching Mechanisms for Monkey Placement"
  description: "Supplementary materials and replication package"
  
  sidebar:
    pinned: true
    align: center
    style: docked
    search: false
    collapse-level: 2
 
    contents:
      - text: Code
      - text: Data
      - text: Paper

format:
  html:
    theme: cosmos
    toc: true
```

## Template: README.qmd

-   AEA does not prescribe a set format for the README file
-   Different formats are useful for different venues
    -   `.pdf` --\> into the `.zip` archive
    -   `.md` --\> GitHub repo
    -   `.html` --\> showcase website
-   All are possible with `.qmd`!

## Template: BYO Code and Data

-   Bring your existing projects or workflows as they are.
-   Add, remove or modify folders as you like!
-   Maybe even develop your STATA scripts from inside the `replication-pkg` folder

## Your Turn: replication-pkg/

::: task
- Add at least one file to these template folders:
  - code/
  - data/
  - paper/
- Modify at least one section in the README.qmd using a Quarto feature you've learnt today.
- Render README.qmd
:::


```{r}
#| echo: false

countdown(minutes = 15)
```