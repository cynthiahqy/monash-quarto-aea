{
  "hash": "3190ea1ba316bca5f7067548fdbf378a",
  "result": {
    "markdown": "---\ntitle: \"Websites Pt. 2\"\nsubtitle: \"Session 3: Producing and Publishing Websites\"\nauthor: \"Cynthia Huang\"\ndate: 2023-07-19\nformat: revealjs\nmetadata-files: \n  - ../_slides.yml\n---\n\n\n\n\n# Website Projects: Revisited\n\n## Review: Project Config Files\n\n``` {.yaml code-line-numbers=\"1-7|8-9|10-12\" filename=\"_quarto.yml\"}\nproject:\n  type: website\n  output-dir: _site\n  render: \n    - \"**/*.qmd\" # target these pages!\n  resources:\n    - \"paper.pdf\" # should be copied across to output-dir\nwebsite:\n  # ... add website features here\nformat:\n  # ... format specific options\n# ... global options\n```\n\n## Review: Render and Preview Projects\n\nWebsites are collections of Quarto documents\n\n. . .\n\nbut the Render button in Rstudio prioritises rendering and previewing the currently open document.\n\n. . . \n\nTo re-render all targets in a project, run this in the **Console**:\n```r\nquarto::quarto_render()\n```\n\n. . .\n\nTo re-render AND refresh the preview use:\n\n```r\nquarto::quarto_preview()\n```\n\n\n## Our Turn: Creating a New Website Project\n\n<!--- https://quarto.org/docs/websites/#quick-start --->\n\n::: follow\n- Make a new Website by going to RStudio \\> New Project \\> New Directory \\> Quarto Website.\n- Open `index.qmd` and press `Render`. Where does the output go?\n- Inspect the website and open the Files pane. What pages are included in this template?\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_71592aec\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n## Available Website Features\n\n::: incremental\n-   **Navigation**: Top navbars, Sidebars\n-   **Tools**: Search, Social Media, Comments, Google Analytics\n-   **Content**: Listings, About Pages\n:::\n. . .\n\nFor a full list of available options see [quarto.org \\> Reference \\> Projects \\> Websites](https://quarto.org/docs/reference/projects/websites.html). Include these options under the `website` field in `_quarto.yml`\n\n## Navigation: Top Navbar\n\nTop Nav bars can have items on the left or right, and include drop-down menus:\n\n```{.yaml filename=\"_quarto.yml\" code-line-numbers=\"5,10|11-14\"}\nwebsite:\n  navbar:\n    background: primary\n    search: true\n    left:\n      - text: \"Home\"\n        file: index.qmd\n      - talks.qmd\n      - about.qmd\n    right:\n      - text: \"More\"\n        menu:\n          - faqs.qmd\n          - jobs.qmd\n\n```\n\n## Navigation: Sidebar\n\nSidebars are useful for sites with more files and deeper hierarchies, and can be split into sections:\n```{.yaml filename=\"_quarto.yml\" code-line-numbers=\"1-4|5-15\"}\nwebsite:\n  sidebar:\n    style: \"docked\"\n    search: true\n    contents:\n      - section: \"Basics\"\n        contents:\n          - index.qmd\n          - basics-knitr.qmd\n          - basics-jupyter.qmd\n      - section: \"Layout\"\n        contents:\n          - layout.qmd\n          - layout-knitr.qmd\n          - layout-jupyter.qmd\n```\n\n## Navigation: Auto Sidebar\n\nSidebars can also be built automatically using the `title` filed of all documents in the website project:\n\n```{.yaml filename=\"_quarto.yml\"}\nsidebar:\n  contents: auto\n```\n. . .\n\nor for specific folders, to specific depths, or file types:\n\n```{.yaml filename=\"_quarto.yml\" code-line-numbers=\"1-3|4-6|7-9\"}\n## include files and subfolders in reports/\nsidebar:\n  contents: reports\n## OR only top level files in reports/\nsidebar:\n  contents: reports/*\n## OR only jupyter notebooks\nsidebar:\n  contents: \"*.ipynb\"\n```\n\n## Your Turn: Custom Navigation\n\n::: task\nOpen the website we just made.\n\n- add another page to the top navbar\n- add a folder called `posts/` and add `file1.qmd` and `file2.qmd` inside.\n- add titles to `file1.qmd` and `file2.qmd`\n- add an automatically generated sidebar\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_31f44376\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">10</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n# Sharing YAML Metadata\n\n## Project Level Sharing\n\nGlobal options can apply to **all formats** or **specific formats**, just like in a YAML header inside a `.qmd` file.\n\n```{.yaml filename=\"_quarto.yml\" code-line-numbers=\"4-6|8-15\"}\nproject:\n  output-dir: _output\n\ntoc: true\nnumber-sections: true\nbibliography: references.bib  \n  \nformat:\n  html:\n    css: styles.css\n    html-math-method: katex\n  pdf:\n    documentclass: report\n    margin-left: 30mm\n    margin-right: 30mm\n```\n\n## Directory Level Sharing\n\nTo reuse YAML options for files within a given folder (i.e. a collection of blog posts), include a `_metadata.yml` file in the folder along with the `.qmd` files:\n\n```{.terminal code-line-numbers=\"3-8\"}\n├── _quarto.yml\n├── index.qmd\n├── posts\n│   ├── _metadata.yml\n│   ├── blog-post-01.qmd\n│   ├── blog-post-02.qmd\n│   ├── blog-post-03.qmd\n│   └── blog-post-04.qmd\n```\n\n## Directory Level Sharing\n\nThe format of `_metadata.yml` is the same as `_quarto.yml`.\n\n```{.yml filename=\"_metadata.yml\"}\n## metadata for all formats\nauthor: \"Cynthia Huang\"\nimage: featured.png\n# card-style: \"summary\"\ndate-modified: last-modified\n\n## format specific options\nformat:\n  html:\n    toc: false\n```\nIf you comment out an option in `_metadata.yml`, if there is a project level option in `_quarto.yml` it will apply. Otherwise the built in Quarto default applies.\n\n## Metadata Includes\n\nIn addition to the previous two options, you might have options you want to use across multiple files or folders but not for the whole project. \n\nYou can include these via the `metadata-files:` option. For example:\n\n```{.md code-line-numbers=\"3-4\"}\n---\ntitle: \"A Special Post with Special Options\"\nmetadata-files:\n  - \"_specialopts.yml\"\n---\n\n## Special Section 1\n\n```\n\n## Inheritance of Shared Metadata\n\nRecall that Quarto has built in defaults for YAML metadata fields. These are merged with any options that you provide, with the most specific taking priority:\n\n+------------------------+-----------------------------------------------------+\n| File                   | Role                                                |\n+========================+=====================================================+\n| `_quarto.yml`          | Project level default options                       |\n+------------------------+-----------------------------------------------------+\n| `dir/_metadata.yml`    | Directory level default options (overrides project) |\n+------------------------+-----------------------------------------------------+\n| `dir/document.qmd`     | Document options (overrides directory and project)  |\n+------------------------+-----------------------------------------------------+\n\n## Learn More\n\n[quarto.org/docs/projects/quarto-projects.html#shared-metadata](https://quarto.org/docs/projects/quarto-projects.html#shared-metadata)\n\n\n\n```{=html}\n<iframe src=\"https://quarto.org/docs/projects/quarto-projects.html#shared-metadata\" width=\"100%\" height=\"500\" style=\"border:2px solid #123233;\" title=\"Quarto Projects Shared Metadata\"></iframe>\n```\n\n\n## Your Turn: Shared Options\n\n::: task\nOpen your last quarto project.\n\n- Add a `_metadata.yml` file to the `posts/` folder.\n- Add an option for the html format. See [HTML Full Reference](https://quarto.org/docs/reference/formats/html.html) for ideas.\n- Render again.\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_59f82bb7\" data-update-every=\"1\" tabindex=\"0\" style=\"right:0;bottom:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">05</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n# Websites Summary\n\n## Project Config File\n\nThe project configuration file `_quarto.yml` contains:\n\n::: incremental\n- project level options under `project:`\n- website feature options under `website:`\n- default options shared by all `.qmd` files targeted for rendering (defaults to all files). These can be for all formats or format specific.\n:::\n\n## Render and Preview\n\nTo re-render all targets in a project, run this in the **Console**:\n```r\nquarto::quarto_render()\n```\n\n. . .\n\nTo re-render AND refresh the preview use:\n\n```r\nquarto::quarto_preview()\n```\n\n## Website Projects in RStudio\n\n[quarto.org/docs/websites/#quick-start](https://quarto.org/docs/websites/#quick-start)\n\n\n\n```{=html}\n<iframe src=\"https://quarto.org/docs/websites/#quick-start\" width=\"100%\" height=\"500\" style=\"border:2px solid #123233;\" title=\"Quarto Projects Shared Metadata\"></iframe>\n```\n\n\n## Config File Schema\n\nJust like in YAML headers, YAML config files contain key-value pairs that must be indented correctly:\n\n```{.yaml filename=\"_quarto.yml\"}\n## project & project type options\nproject:\n  type: website\nwebsite:\n  title: \"A Cool Site\"\n## global options for all documents\ntoc: true\n## format specific options\nformat:\n  html:\n    toc-depth: 2\n  pdf:\n    toc-depth: 3\n```\n\n## Config File Schema\n\nJust like in YAML headers, YAML config files contain key-value pairs that must be indented correctly:\n\n```{.yaml filename=\"_quarto.yml\"}\nproject:\n  type: website\n\nwebsite:\n  title: \"A Cool Site\"\n\ntoc: true # for all formats\n\nformat:\n  html:\n    toc-depth: 2 # just for HTML\n  pdf:\n    toc-depth: 3 # just for PDF\n```\nWe can add comments to `.yml` files using `#`.\n\n## Sharing Metadata\n\nWe can share metadata options using:\n\n::: incremental\n- Project level options in `_quarto.yml`\n- Directory specific options in `_metadata.yml`, which follow the same schema as `_quarto.yml`\n- Metadata Includes via the `metadata-files:` field\n:::\n. . .\n\nThe most specific options take priority -- i.e.\n\n`document > directory > project > defaults`",
    "supporting": [
      "slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}